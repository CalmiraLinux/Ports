<!doctype html>
<html lang="ru">
<head>
<meta charset="utf-8">
	<title>Configuring dhcpcd</title>
</head>
<link rel="stylesheet" href="/usr/share/update-ports/css/styles.css">
<body style="margin: 0px 150px 0px 150px">

<h1>Configuring dhcpcd</h1><hr>

<h2>Config files</h2>

<p><tt>/etc/dhcpcd.conf</tt></p>

<h2>General Configuration Information</h2>

<p>To configure <b><tt>dhcpcd</tt></b>, you need to first install the network service script, <tt>/lib/services/dhcpcd</tt> included in the <a href="https://github.com/CalmiraLinux/calm-bootscripts">calm-bootscripts</a> package. For installation tsis scripts, see the Calmira documentation page (internet) or <a href="/usr/share/doc/Calmira/setup/bootscripts.html">local documentation</a>.</p>

<table border="1" width="100%" cellpadding="5"><colgroup>
	<col style="background-color:#eeddcc">
</colgroup>
<tr><td>
<pre>
make install-service-dhcpcd
</pre></td></tr></table>

<p>The default for <b><tt>dhcpcd</tt></b> is to set the hostname and mtu. It also overwrites <tt>/etc/resolv.conf</tt> and <tt>/etc/ntp.conf</tt>. These modifications to system files are done by hooks which are stored in <tt>/lib/dhcpcd/dhcpcd-hooks</tt>. Setup dhcpcd by removing or adding hooks from/to that directory. The execution of hooks can be disabled by using the <em><tt>--nohook</tt></em> (<em><tt>-C</tt></em>) command line option or by the nohook option in the <tt>/etc/dhcpcd.conf</tt> file.</p>

<p>Finally, as the <tt>root</tt> user create the <tt>/etc/sysconfig/ifconfig.eth0</tt> configuration file using the following commands. Adjust appropriately for additional interfaces:</p>

<table border="1" width="100%" cellpadding="5"><colgroup>
	<col style="background-color:#eeddcc">
</colgroup>
<tr><td>
<pre>
cat > /etc/sysconfig/ifconfig.eth0 << "EOF"
ONBOOT="yes"
IFACE="eth0"
SERVICE="dhcpcd"
DHCP_START="-b -q -S ip_address=192.168.0.10/24 -S routers=192.168.0.1"
DHCP_STOP="-k"
EOF
</pre></td></tr></table>

<p>You can either use DNS servers in <tt>/etc/resolv.conf</tt> from another system, your preferred servers, or just the example <tt>/etc/resolv.conf.head</tt> file below as is:</p>

<table border="1" width="100%" cellpadding="5"><colgroup>
	<col style="background-color:#eeddcc">
</colgroup>
<tr><td>
<pre>
cat > /etc/resolv.conf.head << "EOF"
# OpenDNS servers
nameserver 208.67.222.222
nameserver 208.67.220.220
EOF
</pre></td></tr></table>

<p><blockquote>From <a href="https://linuxfromscratch.org/blfs/view/10.0/basicnet/dhcpcd.html">BLFS</a> instruction.</blockquote></p>

</body></html>
